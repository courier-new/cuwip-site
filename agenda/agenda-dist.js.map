{"version":3,"sources":["agenda.js"],"names":["progData","schedule","Array","eventTypes","$","getJSON","data","addAgenda","output","length","setTimeout","console","log","each","i","dayObj","currOutput","day","college","events","eventObj","addEvent","indexOf","html","legend","sort","eType","pn","charAt","toUpperCase","slice","e","sname","types","includes","push","name","required","timeStart","timeEnd","place","addTalkDesc","addBreakoutOptions","shortDesc","debugHide","speaker","speakerHome","speakerImg","speakerPage","URL","type","options","match","snum","parseInt","substr","t","id","breakouts","s","sessions","hasOwnProperty","special","toLowerCase","careerBreakouts","on","window","width","hasClass","removeClass","addClass","click","target","parents"],"mappings":"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","file":"agenda-dist.js","sourcesContent":["/**\r\n * agenda.js\r\n *\r\n * Parses program data from agenda.json and automatically populated agenda page in readable format.\r\n *\r\n * @author    Kelli Rockwell <kellirockwell@mail.com>\r\n * @since     File available since August 10th, 2017\r\n * @version   1.0.0\r\n */\r\n\r\n// Variable for storing all of the program data retrieved from json\r\nlet progData = {schedule: Array(0)};\r\n\r\n// Array for storing all the different event types for creating bubble legend\r\nlet eventTypes = [];\r\n\r\n$.getJSON('agenda.min.json', (data) => {\r\n   progData = data;\r\n\taddAgenda();\r\n});\r\n\r\n// Function for populating the whole agenda via data read in from json\r\nlet addAgenda = () => {\r\n\tlet output = \"\";\r\n\tif (!progData.schedule.length) {\r\n\t\tsetTimeout(() => {\r\n\t\t\tconsole.log('trying to fetch agenda again');\r\n\t\t\taddAgenda();\r\n\t\t}, 200);\r\n\t} else {\r\n\t\t// For each day of the schedule\r\n\t\t$(progData.schedule).each((i, dayObj) => {\r\n\t\t\t// Begin parsing data with date title\r\n\t\t\tlet currOutput = \"<h1>\" + dayObj.day + \"</h1>\\n\";\r\n\t\t\tcurrOutput += \"<span class='campus reference'>\" + dayObj.college + \"</span>\\n<div class='day table'>\\n\";\r\n\t\t\t$(dayObj.events).each((i, eventObj) => {\r\n                currOutput += addEvent(eventObj);\r\n\t\t\t});\r\n\t\t\tcurrOutput += \"</div>\\n\";\r\n\t\t\t// Add separator unless last day\r\n\t\t\tcurrOutput += (progData.schedule.indexOf(dayObj) !== progData.schedule.length - 1) ? \"<div class='separator'></div>\" : \"\";\r\n\t\t\toutput += currOutput;\r\n\t\t});\r\n\t\t// Fill agenda\r\n\t\t$('.agenda.spread').html(output);\r\n\r\n\tlet legend = \"\";\r\n\teventTypes.sort();\r\n\t// For each type of event\r\n\t$(eventTypes).each((i, eType) => {\r\n\t\t// Get event proper name\r\n\t\tlet pn = eType;\r\n\t\tif (eType == \"breakout\") {\r\n\t\t\tpn = \"Breakout Session\";\r\n\t\t} else if (eType == \"free\") {\r\n\t\t\tpn = \"Free Time\";\r\n\t\t} else if (eType == \"misc\") {\r\n\t\t\tpn = \"Misc/Special\";\r\n\t\t} else if (eType == \"shuttle\") {\r\n\t\t\tpn = \"Shuttle Run\";\r\n\t\t} else {\r\n\t\t\tpn = pn.charAt(0).toUpperCase() + pn.slice(1);\r\n\t\t}\r\n\t\tlegend += \"<div><span class='\" + eType + \"'></span>\" + pn + \"</div>\\n\";\r\n\t});\r\n\t$('.event.types.legend').html(legend);\r\n\t}\r\n};\r\n\r\nlet addEvent = (e) => {\r\n    // Add individual event item\r\n    let currOutput = \"<div class='event \" + e.sname + \"'>\\n\";\r\n    // Add event type designations\r\n    currOutput += \"<div class='type bubbles'>\\n\";\r\n    $(e.types).each((i, eType) => {\r\n        // If event type is not yet part of legend array\r\n        if (!eventTypes.includes(eType)) {\r\n            // Add it\r\n            eventTypes.push(eType);\r\n        }\r\n        // Mark what type of event this is\r\n        currOutput += \"<span class='\" + eType + \"'></span>\\n\";\r\n    });\r\n    currOutput += \"</div>\\n<div class='info'>\";\r\n    // Add event name\r\n    currOutput += \"<span class='name \" + e.sname + \"'>\" + e.name;\r\n    // Mark if event is Optional\r\n    currOutput += (!e.required) ? \" <span class='optional'>(Optional)</span>\" : \"\";\r\n    currOutput += \"</span>\\n\";\r\n    // Add event time\r\n    currOutput += \"<span class='time \" + e.sname + \"'>\" + e.timeStart + \" - \" + e.timeEnd + \"</span>\";\r\n    // Add event location\r\n    currOutput += \"<span class='place \" + e.sname + \"'>\" + e.place + \"</span>\";\r\n    currOutput += \"</div>\\n\";\r\n    // Add desc/options element, if event is talk or parallel session\r\n    if (e.types.includes(\"talk\")) {\r\n        currOutput += addTalkDesc(e);\r\n    } else if (e.types.includes(\"breakout\")) {\r\n        currOutput += addBreakoutOptions(e);\r\n    } else if (e.shortDesc.length || e.shortDesc !== \"\" && !e.debugHide) {\r\n        currOutput += \"<div class='about \" + e.types[0] + \"'>\\n<div class='desc'>\\n\";\r\n        currOutput += \"<p>\" + e.shortDesc + \"</p>\\n\";\r\n        currOutput += \"</div>\\n</div>\";\r\n    }\r\n    currOutput += \"</div>\\n\";\r\n    return currOutput;\r\n};\r\n\r\nlet addTalkDesc = (e) => {\r\n\tlet output = \"\";\r\n\tif (!e.speaker || e.speaker === \"TBD\" || e.debugHide) {\r\n\t\treturn output;\r\n\t} else {\r\n\t\toutput += \"<div class='about \" + e.types[0] + \"'>\\n<div class='desc'>\\n\";\r\n\t\toutput += \"<h2>\" + e.speaker + \" <em>\" + e.speakerHome + \"</em></h2>\\n\";\r\n\t\toutput += \"<div class='lil-img'><img src='../img/\" + e.speakerImg + \"'></div>\\n\";\r\n\t\toutput += \"<p>\" + e.shortDesc + \" Visit her <a target='_blank' href='\" + e.speakerPage.URL + \"'>\" + e.speakerPage.type + \"</a> to learn more.</p>\\n\";\r\n\t\toutput += \"</div>\\n<div class='big-img'><img src='../img/\" + e.speakerImg + \"'></div>\\n</div>\\n\";\r\n\t\treturn output;\r\n\t}\r\n};\r\n\r\nlet addBreakoutOptions = (e) => {\r\n\tlet output = \"\";\r\n\tif (!e.options || e.options.length === 0 || e.debugHide) {\r\n\t\treturn output;\r\n   } else if (e.name.match(/breakout session \\d of \\d/i)) {\r\n      // Remember current breakout session number by extracting from session name (i.e. \"Breakout Session 1 of 3\" => 1)\r\n      let snum = parseInt(e.name.match(/\\d of \\d/)[0].substr(0, 1));\r\n\t\t// Label container with event types\r\n      output += \"<div class='about \";\r\n      for (let t = 0; t < e.types.length; t++) {\r\n         output += e.types[t];\r\n         output += (t + 1 === e.types.length) ? \"\" : \" \";\r\n      }\r\n      output += \"'>\\n<ul>\\n\";\r\n      for (let id in progData.breakouts) {\r\n         // Store current breakout session data\r\n         let s = progData.breakouts[id];\r\n         // If breakout session is included in current session number\r\n         if (s.sessions.includes(snum)) {\r\n            // Add breakout session occurrences\r\n            output += \"<li>\\n<div class='occurrences'>\";\r\n            for (let i = 1; i < 4; i++) {\r\n               output += (s.sessions.includes(i)) ? `<span class='indicator true'>${i}</span>` : `<span class='indicator false'>${i}</span>`;\r\n            }\r\n            // Add breakout session info\r\n            output += \"</div>\\n<div class='details'><span class='session'>\" + s.name + \"</span>\";\r\n            // If breakout session has special property\r\n      \t\tif (s.hasOwnProperty(\"special\")) {\r\n      \t\t\toutput += \"<span class='label\";\r\n      \t\t\t// If breakout session is labeled as only occurring once\r\n      \t\t\toutput += (s.special.toLowerCase().includes(\"once\")) ? \" once'>\" : \"'>\";\r\n      \t\t\toutput += s.special + \"</span>\";\r\n            }\r\n         }\r\n   \t\toutput += \"</li>\\n\";\r\n      }\r\n\t\toutput += \"</ul>\\n</div>\\n\";\r\n\t\treturn output;\r\n\t} else if (e.name.match(/career/i)) {\r\n      // Label container with event types\r\n      output += \"<div class='about \";\r\n      for (let t = 0; t < e.types.length; t++) {\r\n         output += e.types[t];\r\n         output += (t + 1 === e.types.length) ? \"\" : \" \";\r\n      }\r\n      output += \"'>\\n<ul>\\n\";\r\n      for (let id in progData.careerBreakouts) {\r\n         // Store current breakout session data\r\n         let s = progData.careerBreakouts[id];\r\n         // Add breakout session info\r\n         output += \"<li>\\n<div class='details'><span class='session'>&#8226;&emsp;\" + s.name + \"</span>\";\r\n   \t\toutput += \"</li>\\n\";\r\n      }\r\n\t\toutput += \"</ul>\\n</div>\\n\";\r\n\t\treturn output;\r\n   }\r\n};\r\n\r\n// Clicking on agenda event type bubble\r\n$('.agenda.spread').on('click', '.type.bubbles span', () => {\r\n\tif ($(window).width() <= 700) {\r\n\t\tif ($(this).hasClass('focused')) {\r\n\t\t\t$(this).removeClass('focused');\r\n\t\t} else {\r\n\t\t\t$(this).addClass('focused');\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// On click anywhere outside event type bubble on mobile, close bubble\r\n$('html').click((e) => {\r\n   if (!$(e.target).parents('.type.bubbles').length && $(window).width() <= 700) {\r\n\t\t$('.type.bubbles span').removeClass('focused');\r\n   }\r\n});\r\n\r\n/* End of agenda.js */\r\n"]}